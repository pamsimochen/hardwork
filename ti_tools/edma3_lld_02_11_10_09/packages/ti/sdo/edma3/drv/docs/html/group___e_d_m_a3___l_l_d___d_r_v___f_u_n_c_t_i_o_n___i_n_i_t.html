<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>EDMA3 Driver: EDMA3 Driver Initialization APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>EDMA3 Driver Initialization APIs<br/>
<small>
[<a class="el" href="group___e_d_m_a3___l_l_d___d_r_v___f_u_n_c_t_i_o_n.html">EDMA3 Driver APIs</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EDMA3_DRV_Result&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_d_m_a3___l_l_d___d_r_v___f_u_n_c_t_i_o_n___i_n_i_t.html#ga12f3a9c4fcbb34e65b83da89a0d7430f">EDMA3_DRV_create</a> (uint32_t phyCtrllerInstId, const <a class="el" href="struct_e_d_m_a3___d_r_v___gbl_config_params.html">EDMA3_DRV_GblConfigParams</a> *gblCfgParams, const void *miscParam)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create EDMA3 Driver Object.  <a href="#ga12f3a9c4fcbb34e65b83da89a0d7430f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EDMA3_DRV_Result&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_d_m_a3___l_l_d___d_r_v___f_u_n_c_t_i_o_n___i_n_i_t.html#ga5fc8e8b7f228f6692eb69156b6d77b45">EDMA3_DRV_delete</a> (uint32_t phyCtrllerInstId, const void *param)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete EDMA3 Driver Object.  <a href="#ga5fc8e8b7f228f6692eb69156b6d77b45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EDMA3_DRV_Handle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_d_m_a3___l_l_d___d_r_v___f_u_n_c_t_i_o_n___i_n_i_t.html#ga9b623dfb3ab6733a7472a893155072cc">EDMA3_DRV_open</a> (uint32_t phyCtrllerInstId, const <a class="el" href="struct_e_d_m_a3___d_r_v___init_config.html">EDMA3_DRV_InitConfig</a> *initCfg, EDMA3_DRV_Result *errorCode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open EDMA3 Driver Instance.  <a href="#ga9b623dfb3ab6733a7472a893155072cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EDMA3_DRV_Result&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_d_m_a3___l_l_d___d_r_v___f_u_n_c_t_i_o_n___i_n_i_t.html#ga2e0ec2776dcf873bd49e7af3b9c85f0d">EDMA3_DRV_close</a> (EDMA3_DRV_Handle hEdma, const void *param)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the EDMA3 Driver Instance.  <a href="#ga2e0ec2776dcf873bd49e7af3b9c85f0d"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga12f3a9c4fcbb34e65b83da89a0d7430f"></a><!-- doxytag: member="edma3_drv.h::EDMA3_DRV_create" ref="ga12f3a9c4fcbb34e65b83da89a0d7430f" args="(uint32_t phyCtrllerInstId, const EDMA3_DRV_GblConfigParams *gblCfgParams, const void *miscParam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EDMA3_DRV_Result EDMA3_DRV_create </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>phyCtrllerInstId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_e_d_m_a3___d_r_v___gbl_config_params.html">EDMA3_DRV_GblConfigParams</a> *&nbsp;</td>
          <td class="paramname"> <em>gblCfgParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>miscParam</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create EDMA3 Driver Object. </p>
<p>This API is used to create the EDMA3 Driver Object. It should be called only ONCE for each EDMA3 hardware instance.</p>
<p>Init-time Configuration structure for EDMA3 hardware is provided to pass the SoC specific information. This configuration information could be provided by the user at init-time. In case user doesn't provide it, this information could be taken from the SoC specific configuration file edma3_&lt;SOC_NAME&gt;_cfg.c, in case it is available.</p>
<p>This API clears the error specific registers (EMCR/EMCRh, QEMCR, CCERRCLR) and sets the TCs priorities and Event Queues' watermark levels, if the 'miscParam' argument is NULL. User can avoid these registers' programming (in some specific use cases) by SETTING the 'isSlave' field of 'EDMA3_RM_MiscParam' configuration structure and passing this structure as the third argument (miscParam).</p>
<p>After successful completion of this API, Driver Object's state changes to EDMA3_DRV_CREATED from EDMA3_DRV_DELETED.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>phyCtrllerInstId</em>&nbsp;</td><td>[IN] EDMA3 Controller Instance Id (Hardware instance id, starting from 0). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gblCfgParams</em>&nbsp;</td><td>[IN] SoC specific configuration structure for the EDMA3 Hardware. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>miscParam</em>&nbsp;</td><td>[IN] Misc configuration options provided in the structure 'EDMA3_DRV_MiscParam'. For default options, user can pass NULL in this argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EDMA3_DRV_SOK or EDMA3_DRV Error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga5fc8e8b7f228f6692eb69156b6d77b45"></a><!-- doxytag: member="edma3_drv.h::EDMA3_DRV_delete" ref="ga5fc8e8b7f228f6692eb69156b6d77b45" args="(uint32_t phyCtrllerInstId, const void *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EDMA3_DRV_Result EDMA3_DRV_delete </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>phyCtrllerInstId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete EDMA3 Driver Object. </p>
<p>Use this API to delete the EDMA3 Driver Object. It should be called only ONCE for each EDMA3 hardware instance. It should be called ONLY after closing all the EDMA3 Driver Instances.</p>
<p>This API is used to delete the EDMA3 Driver Object. It should be called once for each EDMA3 hardware instance, ONLY after closing all the previously opened EDMA3 Driver Instances.</p>
<p>After successful completion of this API, Driver Object's state changes to EDMA3_DRV_DELETED.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>phyCtrllerInstId</em>&nbsp;</td><td>[IN] EDMA3 Phy Controller Instance Id (Hardware instance id, starting from 0). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>param</em>&nbsp;</td><td>[IN] For possible future use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EDMA3_DRV_SOK or EDMA3_DRV Error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga9b623dfb3ab6733a7472a893155072cc"></a><!-- doxytag: member="edma3_drv.h::EDMA3_DRV_open" ref="ga9b623dfb3ab6733a7472a893155072cc" args="(uint32_t phyCtrllerInstId, const EDMA3_DRV_InitConfig *initCfg, EDMA3_DRV_Result *errorCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EDMA3_DRV_Handle EDMA3_DRV_open </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>phyCtrllerInstId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_e_d_m_a3___d_r_v___init_config.html">EDMA3_DRV_InitConfig</a> *&nbsp;</td>
          <td class="paramname"> <em>initCfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EDMA3_DRV_Result *&nbsp;</td>
          <td class="paramname"> <em>errorCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open EDMA3 Driver Instance. </p>
<p>This API is used to open an EDMA3 Driver Instance. It could be called multiple times, for each possible EDMA3 shadow region. Maximum EDMA3_MAX_REGIONS instances are allowed for each EDMA3 hardware instance. Multiple instances on the same shadow region are NOT allowed.</p>
<p>Also, only ONE Master Driver Instance is permitted. This master instance (and hence the region to which it belongs) will only receive the EDMA3 interrupts, if enabled.</p>
<p>User could pass the instance specific configuration structure (initCfg.drvInstInitConfig) as a part of the 'initCfg' structure, during init-time. In case user doesn't provide it, this information could be taken from the SoC specific configuration file edma3_&lt;SOC_NAME&gt;_cfg.c, in case it is available.</p>
<p>By default, this EDMA3 Driver instance will clear the PaRAM Sets while allocating them. To change the default behavior, user should use the IOCTL interface appropriately.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>phyCtrllerInstId</em>&nbsp;</td><td>[IN] EDMA3 Controller Instance Id (Hardware instance id, starting from 0). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>initCfg</em>&nbsp;</td><td>[IN] Used to Initialize the EDMA3 Driver Instance (Master or Slave). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errorCode</em>&nbsp;</td><td>[OUT] Error code while opening DRV instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EDMA3_DRV_Handle : If successfully opened, the API will return the associated driver's instance handle.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function disables the global interrupts (by calling API edma3OsProtectEntry with protection level EDMA3_OS_PROTECT_INTERRUPT) while modifying the global data structures, to make it re-entrant. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2e0ec2776dcf873bd49e7af3b9c85f0d"></a><!-- doxytag: member="edma3_drv.h::EDMA3_DRV_close" ref="ga2e0ec2776dcf873bd49e7af3b9c85f0d" args="(EDMA3_DRV_Handle hEdma, const void *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EDMA3_DRV_Result EDMA3_DRV_close </td>
          <td>(</td>
          <td class="paramtype">EDMA3_DRV_Handle&nbsp;</td>
          <td class="paramname"> <em>hEdma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the EDMA3 Driver Instance. </p>
<p>This API is used to close a previously opened EDMA3 Driver Instance.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hEdma</em>&nbsp;</td><td>[IN] Handle to the previously opened EDMA3 Driver Instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>param</em>&nbsp;</td><td>[IN] For possible future use</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EDMA3_DRV_SOK or EDMA3_DRV Error code</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function disables the global interrupts (by calling API edma3OsProtectEntry with protection level EDMA3_OS_PROTECT_INTERRUPT) while modifying the global data structures, to make it re-entrant. </dd></dl>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Mon Feb 14 18:34:00 2011 for EDMA3 Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
